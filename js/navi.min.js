/*! HelpSmith Web Help System 3.0
* http://www.helpsmith.com
* Copyright (c) 2007-2019 Divcom Software */
function hsNaviObj(){function m(a){var b=$('<div id="sort-result-header"></div>');$('<span class="se-message"></span>').append(a).appendTo(b);$("#search-result").empty().append(b)}function r(a){var c=function(a,b){return a.data("title").localeCompare(b.data("title"))};b.$searchResultTree.hsTree("sortChildren","title"==a?c:function(a,b){return a.data("hsRank")==b.data("hsRank")?c(a,b):b.data("hsRank")-a.data("hsRank")});$.cookie("hswh-ssd",b.searchResultSortKind,{expires:30,path:"/"})}function t(a){n||
p?n&&a(!0):(p=!0,$.getScript("js/search-index.min.js").done(function(){n=!0;p=!1;a(!0)}).fail(function(){p=!1;a(!1)}))}var b=this;this.ready=!1;this.searchResultSortKind="rank";this.currentTopicContext=-1;this.hlKeywordNode=null;var n=this.specKeyPressedOnPopupLink=!1,p=!1;this.init=function(){var a=$.cookie("hswh-ssd");this.searchResultSortKind="title"!=a&&"rank"!=a?this.searchResultSortKind:a;$("#tabs").tabs({activate:function(){b.updateCurrentTab()}}).addClass("hs-ready");a=getWHSettings("tocAtimateExpandingCollapsingDuration",
0);this.$tocTree=$("#toc-tree");this.$tocTree.hsTree({expandSpeed:0>a?0:a,autoCollapse:getWHSettings("tocOnlyExpandSingleHeading",!1),noButtons:this.$tocTree.hasClass("hs-btn-none"),noIcons:this.$tocTree.hasClass("hs-icons-none"),onActivate:function(a){var f=a.find("> .hstree-node-cnt a");if(1==f.length){var e=f.attr("href");e&&"#"!=e&&(window.open(e,f.attr("target")),b.closeNavi())}getWHSettings("tocAutoExpandOnActivate",!1)&&b.$tocTree.hsTree("expandNode",a)}});this.$indexTree=$("#index-tree").hsTree({expandSpeed:0,
onNodeRender:function(a){a.find("> .hstree-node-btn, > .hstree-node-cnt .hstree-node-icon").remove()},onQueryExpand:function(a,b){if(!b)return!1},onClick:function(a){var e=b.$indexTree.hsTree("getActiveNode");e&&e.is(a)&&b.$indexTree.hsTree("reActivateNode")},onActivate:function(a){var e=a.attr("data-topics");if("undefinded"!==typeof e){try{e=eval("["+e+"]")}catch(g){e=[]}if("object"===typeof e&&1<e.length){b.showKwdTopicList(a,e);return}}e=a.find("> .hstree-node-cnt a");if(1==e.length){var c=e.attr("href");
if(c&&"#"!=c){b.destroyPopupBox();window.open(c,e.attr("target"));b.closeNavi();return}}b.showKwdNoEntryWarning(a)}});this.$indexTree.find(".hstree-node").each(function(){b.$indexTree.hsTree("expandNode",$(this))});this.$indexTree.on("scroll",function(){b.destroyPopupBox()});$("input#kwd-search").on("keyup",function(a){b.selectKeyword($(this),a.which)});a=$("#search-form");if(a.length){var c=a.find(".search-btn");if(c.length)c.on("click",function(){b.search()});a=a.find("input#squery");if(a.length)a.on("keyup",
function(a){13==a.which&&(a.preventDefault(),b.search())})}$("body").on("keydown",function(a){switch(a.which){case 27:var c=b.getSelectedTab();"tab-index"==c?$("#popup-box").length&&(a.preventDefault(),b.specKeyPressedOnPopupLink=!0,b.destroyPopupBox(),$("input#kwd-search").focus()):"tab-search"==c&&$("#sorting-popup-menu").is(":visible")&&(a.preventDefault(),b.hideSortingPopupMenu());break;case 38:case 40:"tab-index"==b.getSelectedTab()&&(c=$("#popup-box"),c.length&&!c.find(".hs-popuplink:focus").length&&
(c=c.find(".hs-popuplink"),c.length&&(a.preventDefault(),40==a.which?c.first().focus():c.last().focus())))}}).on("mousedown",function(a){var c=b.getSelectedTab();"tab-index"==c?(c=$("#popup-box:visible"),c.length&&!$(a.target).closest(c).length&&b.destroyPopupBox()):"tab-search"==c&&(c=$("#sorting-popup-menu:visible"),c.length&&!$(a.target).closest(c).length&&b.hideSortingPopupMenu())});$(window).on("resize.hsNaviObj",function(){b.alignTabPanel();b.alignIndexTree();b.alignSearchResultTree();b.updatePopupBoxWidth();
b.hideSortingPopupMenu()}).trigger("resize.hsNaviObj")};this.closeNavi=function(){var a=window.parent.document;a&&$("#hs-header-m",a).is(":visible")&&window.parent.window.hsWebHelp.showNavi(!1)};this.getTextLabel=function(a,b,e){(a=$("body").attr("data-"+a))||(a=b);"undefined"!==typeof e&&(a=a.replace("%s",e));return a};this.createPopupBox=function(){var a=$("<div></div>").attr("id","popup-box"),b=$("<div></div>").addClass("container").appendTo(a);$("<div></div>").addClass("content").appendTo(b);
return a};this.calcPopupBoxWidth=function(a,b){"undefined"===typeof b&&(b=a.position().left);var c=$(window).width()-2*b-(a.outerWidth(!0)-a.width());350<c&&(c=350);return c};this.updatePopupBoxWidth=function(a){"undefined"===typeof a&&(a=$("#popup-box"));a.length&&a.css("width",this.calcPopupBoxWidth(a))};this.alignPopupBox=function(a,b){var c=a.find("> .hstree-node-cnt a"),f=c.offset();b.css("width",this.calcPopupBoxWidth(b,f.left));var d=!0;c=f.top+c.outerHeight(!0)+11;c+b.outerHeight(!0)>$(window).height()&&
(d=!1,c=f.top-b.outerHeight(!0)-11);b.css({top:c,left:f.left});d?b.addClass("pos-bottom"):b.addClass("pos-top")};this.showKwdNoEntryWarning=function(a){this.destroyPopupBox();var b=this.createPopupBox();b.find("div.content").addClass("message").append(this.getTextLabel("index-noentry","To locate information about this keyword, please select one of the subentries in the list."));$("#tab-index").append(b);this.alignPopupBox(a,b);b.stop(!0,!0).fadeIn("fast")};this.showKwdTopicList=function(a,c){this.destroyPopupBox();
var e=this.createPopupBox(),f=e.find("div.content");f=$("<ul></ul>").appendTo(f);for(var d=0;d<c.length;d++){var g=gTopicTable[c[d]],h=$("<li></li>").appendTo(f),k=a.find("> .hstree-node-cnt a").attr("target");g=$('<a class="hs-popuplink"></a>').attr({href:g[3]}).append(g[2]);k&&g.attr({target:k});g.on("keydown",function(a){var c=e.find("a.hs-popuplink").toArray(),k=$.inArray(this,c);switch(a.which){case 32:a.preventDefault();this.click();break;case 38:a.preventDefault();0<k&&c[--k].focus();break;
case 40:a.preventDefault();k<c.length-1&&c[++k].focus();break;case 13:b.specKeyPressedOnPopupLink=!0}}).on("click",function(){b.destroyPopupBox();$("input#kwd-search").focus();b.closeNavi()}).appendTo(h)}$("#tab-index").append(e);this.alignPopupBox(a,e);e.stop(!0,!0).fadeIn("fast")};this.selectKeyword=function(a,c){function e(a,c,g){var k=null;if(a.length&&g<c.length){var f=/[.;,:()_{}"\/\\|<>!\?\[\]\-\+\*=%&@#]/g,d=$.trim(c[g]);d&&(d=d.replace(f,""));if(d){d=d.toLowerCase();for(var h=0;h<a.length;h++){var q=
$(a[h]),l=q.data("title");l&&(l=l.replace(f,""));if(l&&(l=l.toLowerCase(),l.charAt(0)==d.charAt(0))){if(l.substring(0,d.length)==d){k=q;break}if(0<l.localeCompare(d)){a:{a=l;for(d=d.substring(0,d.length-1);""!=d;d=d.substring(0,d.length-1))if(a.substring(0,d.length)==d){d=!0;break a}d=!1}d&&(k=q);break}else k=q}}}}return k?(c=e(b.$indexTree.hsTree("getChildren",k),c,++g))?c:k:null}function f(){b.hlKeywordNode&&b.hlKeywordNode.removeClass("hs-highlight")}if(b.specKeyPressedOnPopupLink)b.specKeyPressedOnPopupLink=
!1;else{var d=null,g=a.val().split(",");g.length&&(d=e(this.$indexTree.hsTree("getChildren"),g,0));(function(a){a?b.hlKeywordNode&&a.is(b.hlKeywordNode)||(f(),b.hlKeywordNode=a,b.hlKeywordNode&&b.hlKeywordNode.addClass("hs-highlight"),b.destroyPopupBox()):(f(),b.hlKeywordNode=null,b.destroyPopupBox())})(d);(function(){var a=0;b.hlKeywordNode&&(h=b.$indexTree.find("> ul.hstree-root > li:first-child"),h.length&&(h.is(b.hlKeywordNode)||(a=b.hlKeywordNode.position().top+b.$indexTree.scrollTop())));b.$indexTree.scrollTop(a)})();
if(13==c&&b.hlKeywordNode){var h=b.$indexTree.hsTree("getActiveNode");h&&h.is(b.hlKeywordNode)?b.$indexTree.hsTree("reActivateNode"):b.$indexTree.hsTree("setActiveNode",b.hlKeywordNode)}}};this.getSelectedTab=function(){var a=$("#tabs li.ui-tabs-active > a").attr("href");""!=a&&(a=a.substring(1));return a};this.alignTabPanel=function(){$("#tabs .ui-tabs-panel:visible").css("height",$(window).height()-$("#tabs .ui-tabs-nav").outerHeight(!0))};this.alignIndexTree=function(){var a=$("#kwd-search-box:visible");
0!=a.length&&this.$indexTree.is(":visible")&&this.$indexTree.css("height",$(window).height()-(a.position().top+a.outerHeight(!0)))};this.alignSearchResultTree=function(){var a=$("#sort-result-header:visible");0!=a.length&&$("#search-result-tree:visible").css("height",$(window).height()-(a.position().top+a.outerHeight(!0)))};this.destroyPopupBox=function(){$("#popup-box").stop(!0,!0).hide().remove()};this.setCurrentTopic=function(a){"tab-toc"==this.getSelectedTab()&&this.activateTocNode(a);this.currentTopicContext=
a;if(0<=this.currentTopicContext&&(a=$("#search-result-tree"),a.length)){var b=a.hsTree("getActiveNode");b&&gTopicTable[b.data("hsTopicIndex")][0]!=this.currentTopicContext&&a.hsTree("setActiveNode",null)}};this.activateTocNode=function(a){if(this.$tocTree&&this.$tocTree.length){var b=this.$tocTree.hsTree("getActiveNode");if(b&&a==b.attr("data-context"))return!0;if(b=this.$tocTree.hsTree("getNodeByData","context",a))return this.$tocTree.hsTree("setActiveNode",b,!0),b.find("> .hstree-node-cnt a").focus(),
!0}return!1};this.updateCurrentTab=function(){this.alignTabPanel();switch(this.getSelectedTab()){case "tab-toc":0<=this.currentTopicContext&&this.activateTocNode(this.currentTopicContext);this.destroyPopupBox();break;case "tab-index":this.alignIndexTree();$("input#kwd-search").focus();break;case "tab-search":n=n||0<$('head script[src*="search-index.min.js"]').length,this.alignSearchResultTree(),$("input#squery").focus(),this.destroyPopupBox()}};this.hideSortingPopupMenu=function(){$("#sorting-popup-menu:visible").stop(!0,
!0).fadeOut("fast")};this.createSortingPopupMenu=function(){function a(a,b,c,g){$('<li id="'+b+'" class="menu-item"></li>').append(c).appendTo(a).on("click",g)}var c=$('<ul id="sorting-popup-menu"></ul>');a(c,"sort-by-rank",b.getTextLabel("sort-byrank","Most relevant"),function(a){a.stopPropagation();b.hideSortingPopupMenu();r(b.searchResultSortKind="rank")});a(c,"sort-by-title",b.getTextLabel("sort-bytitle","Topic title"),function(a){a.stopPropagation();b.hideSortingPopupMenu();r(b.searchResultSortKind=
"title")});return c};this.showResultBar=function(a){var c=$("<table></table>"),e=$("<tr></tr>").appendTo(c),f=$("<td></td>").appendTo(e);$('<span class="se-message"></span>').appendTo(f).append(a);a=$("<td></td>").appendTo(e);var d=$('<div id="sort-control" class="text-label"></div>').append(b.getTextLabel("sort-title","Sort by")).on("click",function(a){a.stopPropagation();if(!d.find("#sorting-popup-menu:visible").length){a=d;switch(b.searchResultSortKind){case "title":a.find("#sort-by-title").addClass("menu-item-checked");
a.find("#sort-by-rank").removeClass("menu-item-checked");break;case "rank":a.find("#sort-by-title").removeClass("menu-item-checked"),a.find("#sort-by-rank").addClass("menu-item-checked")}var c=$("#sorting-popup-menu"),e=a.offset(),f=!0,g=e.top+a.outerHeight()+12;g+c.outerHeight(!0)>$(window).height()&&(g=e.top-c.outerHeight(!0)-12,f=!1);c.css({top:g,left:e.left+a.outerWidth()-c.outerWidth()});f?(c.addClass("pos-bottom"),c.removeClass("pos-top")):(c.addClass("pos-top"),c.removeClass("pos-bottom"));
c.stop(!0,!0).fadeIn("fast")}});d.appendTo(a).append(this.createSortingPopupMenu());c=$('<div id="sort-result-header"></div>').append(c);$("#search-result").empty().append(c)};this.doSearch=function(){var a=new searchEngine;if(a.search($("input#squery").val(),"phrase"==$('input[type="radio"][name="match"]:checked').val())){for(var c=$("<ul></ul>"),e=b.$tocTree.hasClass("hs-icons")?"hs-icons":b.$tocTree.hasClass("hs-icons-c")?"hs-icons-c":"",f=0;f<a.resultItems.length;f++){var d=a.resultItems[f],g=
$("<li/>").appendTo(c).attr({title:d.getTitle()}).data({hsRank:d.rank,hsTopicIndex:d.topicIndex,hsHlValue:d.getWordsParamValue()});if("hs-icons"==e){var h=d.getIconClass();h&&g.addClass(h)}$("<a></a>").attr({href:d.getRef(),target:"topic"}).appendTo(g).append(d.getTitle())}this.showResultBar(b.getTextLabel("search-found","%s topic(s) found:",a.resultItems.length));b.$searchResultTree=$('<div id="search-result-tree"></div>').append(c).appendTo("#search-result");e&&b.$searchResultTree.addClass(e);b.alignSearchResultTree();
b.$searchResultTree.hsTree({onNodeRender:function(a){a.find("> .hstree-node-btn").remove()},onActivate:function(a){var c=a.find("> .hstree-node-cnt a");if(1==c.length){var d=c.attr("href");d&&"#"!=d&&(d=d+"?highlight="+a.data("hsHlValue"),window.open(d,c.attr("target")),b.closeNavi())}},onDeactivate:function(a){a.addClass("visited-topic")}});r(b.searchResultSortKind)}else b.$searchResultTree=null,m(b.getTextLabel("search-notopics","No topics found."));switch(a.searchMatch){case tSearchMatch.EXACT:$("input#anywords").prop("checked",
!0);break;case tSearchMatch.PHRASE:$("input#phrase").prop("checked",!0)}};this.search=function(){var a=$('<div id="search-wait"></div>');$("#search-result").empty().append(a);t(function(a){a?b.doSearch():m("Error: Unable to load search index.")})}}var hsNavi=new hsNaviObj;
$(document).ready(function(){hsNavi.init();if($("#hs-index-p",parent.window.document).length){var m=null;m=parent.window.hsWebHelp;if(!m)return;$(window).on("resize",function(){$("body").toggleClass("hs-mobile",m.isMobileMode())}).trigger("resize")}hsNavi.ready=!0});